<!DOCTYPE html>
<html>
<head>
	<title>React To-Play List</title>

	<link rel="stylesheet" type="text/css" href="style.css">

	<script src="https://fb.me/react-15.2.1.js"></script>
	<script src="https://fb.me/react-dom-15.2.1.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>

</head>

<body>

<div id="listbox">If you can see this, the legion of Pidgeys that built this page made a mistake. Please refresh the page, toss a Pokeball, or have a cupcake. Whichever will make your day better.</div>

<script type="text/babel">

	var listContainer = document.querySelector("#listbox");

	var EachGame = React.createClass({
		render: function() {
			var gameEntries = this.props.entries;

			function createGames(title) {
				return <li key={title.key}>{title.text}</li>
			}

			var listGames = gameEntries.map(createGames);

			return (
				<ul className="theList">
					{listGames}
				</ul>
			);
		}
	});

	var GamePlayList = React.createClass({
		getInitialState: function() {
			return {
				games: []
			};
		},
		addGame: function(e) {
			var gameArray = this.state.games;

			gameArray.push( 
				{
					text: this.userInput.value,
					key: Date.now()
				}
			);
			
			this.setState({
				games: gameArray
			});

			this.userInput.value = "";

			e.preventDefault();
		},
		render: function() {
			return (
				<div className="gamePlayListMain">
					<div className="header">
						<form onSubmit={this.addGame}>
							<input ref={ (arg) => this.userInput = arg}
								placeholder="Enter a title...">
							</input>
							<button type="submit">Add Game</button>
						</form>
					</div>
					<EachGame entries={this.state.games} />
				</div>
			);
		}
	});

	ReactDOM.render(
		<GamePlayList />,
		listContainer
	);

	//radio buttons - current, finished, to play, set aside
</script>
</body>
</html>